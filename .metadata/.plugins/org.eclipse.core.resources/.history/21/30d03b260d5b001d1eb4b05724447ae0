package Interfaz;

import java.awt.BorderLayout;
import java.awt.Component;
import java.awt.Dimension;
import java.awt.FlowLayout;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.util.ArrayList;

import modelo.Jugador;
import modelo.Participante;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;
import javax.swing.border.TitledBorder;

public class PanelUsuario extends JPanel implements ActionListener{
	private static final String CAMBIOSELECCION = "CAMBIOSELECCION";
	private VentanaUsuario padre;
	
	private JLabel titulares;
	private JLabel suplentes;
	private ArrayList<String> seleccion = new ArrayList<String>();
	private JCheckBox  titular1;
	private JCheckBox  titular2;
	private JCheckBox  titular3;
	private JCheckBox  titular4;
	private JCheckBox  titular5;
	private JCheckBox  titular6;
	private JCheckBox  titular7;
	private JCheckBox  titular8;
	private JCheckBox  titular9;
	private JCheckBox  titular10;
	private JCheckBox  titular11;
	private JCheckBox  suplente1;
	private JCheckBox  suplente2;
	private JCheckBox  suplente3;
	private JCheckBox  suplente4;
	
	public PanelUsuario(VentanaUsuario papa) {
		padre = papa;
		
		if (((Participante)padre.getInterfaz().getAplicacion().getUsuarioActivo()).getEquipo()!=null) {
			setBorder(new TitledBorder(((Participante)padre.getInterfaz().getAplicacion().getUsuarioActivo()).getEquipo().getNombre()));
		}
		
		titulares = new JLabel("Titulares:");
		suplentes = new JLabel("Suplentes:");
		
		actualizarAlineacion();
		
		setLayout(new GridLayout(15,1));
		
		add(titulares);
		add(titular1);
		add(titular2);
		add(titular3);
		add(titular4);
		add(titular5);
		add(titular6);
		add(titular7);
		add(titular8);
		add(titular9);
		add(titular10);
		add(titular11);
		add(suplentes);
		add(new JLabel());
		add(suplente1);
		add(suplente2);
		add(suplente3);
		add(suplente4);
		
	}

	public ArrayList<String> getSeleccion() {
		return seleccion;
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		String evento = e.getActionCommand();
		Jugador jugador;
		String modificar;
		if(evento.equals(CAMBIOSELECCION)) {
			JCheckBox comp = (JCheckBox) e.getSource();
			if (comp == titular1) {
				String[] infoJug = titular1.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular1.isSelected()) {
					seleccion.add(titular1.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular1.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular2) {
				String[] infoJug = titular2.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular2.isSelected()) {
					seleccion.add(titular2.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular2.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular3) {
				String[] infoJug = titular3.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular3.isSelected()) {
					seleccion.add(titular3.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular3.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular4) {
				String[] infoJug = titular4.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular4.isSelected()) {
					seleccion.add(titular4.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular4.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular5) {
				String[] infoJug = titular5.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular5.isSelected()) {
					seleccion.add(titular5.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular5.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular6) {
				String[] infoJug = titular6.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular6.isSelected()) {
					seleccion.add(titular6.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular6.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular7) {
				String[] infoJug = titular7.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular7.isSelected()) {
					seleccion.add(titular7.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular7.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular8) {
				String[] infoJug = titular8.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular8.isSelected()) {
					seleccion.add(titular8.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular8.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular9) {
				String[] infoJug = titular9.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular9.isSelected()) {
					seleccion.add(titular9.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular9.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular10) {
				String[] infoJug = titular10.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular10.isSelected()) {
					seleccion.add(titular10.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular10.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == titular11) {
				String[] infoJug = titular11.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (titular11.isSelected()) {
					seleccion.add(titular11.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(titular11.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == suplente1) {
				String[] infoJug = suplente1.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (suplente1.isSelected()) {
					seleccion.add(suplente1.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(suplente1.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == suplente2) {
				String[] infoJug = suplente2.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (suplente2.isSelected()) {
					seleccion.add(suplente2.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(suplente2.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == suplente3) {
				String[] infoJug = suplente3.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (suplente3.isSelected()) {
					seleccion.add(suplente3.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(suplente3.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
			if (comp == suplente4) {
				String[] infoJug = suplente4.getText().split(",");
				modificar = infoJug[0] + ", "+ infoJug[2];
				if (suplente4.isSelected()) {
					seleccion.add(suplente4.getText());
				}
				else {
					for(int i = 0; i < seleccion.size(); i++) {
						if (seleccion.get(i).equals(suplente4.getText())) {
							seleccion.remove(i);
						}
					}
				}
			}
		}	
	}

	public void actualizarAlineacion() {
		titular1 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(0).toString());
		titular2 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(1).toString());
		titular3 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(2).toString());
		titular4 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(3).toString());
		titular5 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(4).toString());
		titular6 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(5).toString());
		titular7 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(6).toString());
		titular8 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(7).toString());
		titular9 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(8).toString());
		titular10 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(9).toString());
		titular11 = new JCheckBox (padre.getUsuario().getEquipo().getTitulares().get(10).toString());
		suplente1 = new JCheckBox (padre.getUsuario().getEquipo().getSuplentes().get(0).toString());
		suplente2 = new JCheckBox (padre.getUsuario().getEquipo().getSuplentes().get(1).toString());
		suplente3 = new JCheckBox (padre.getUsuario().getEquipo().getSuplentes().get(2).toString());
		suplente4 = new JCheckBox (padre.getUsuario().getEquipo().getSuplentes().get(3).toString());
		
	}

	
}
